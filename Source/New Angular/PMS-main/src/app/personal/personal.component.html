<app-topbar></app-topbar>
<app-sidebar></app-sidebar>

<div class="container d-flex justify-content-center table-box">
  <!-- <form action="#" class="form" (ngSubmit)="personaldata()" style="margin-top:110px; border:2px solid black; margin-bottom:5%; width: 60%; border-radius: 15px;"> -->
  <form [formGroup]="personalForm" class="form form-border">

    <div class="progressbar">
      <div class="progress" id="progress"></div>

      <div class="progress-step progress-step-active" data-title="Personal"></div>
      <div class="progress-step" data-title="Education"></div>
      <div class="progress-step" data-title="Project"></div>
      <div class="progress-step" data-title="Skills"></div>
      <div class="progress-step" data-title="Achievements"></div>
    </div>

    <!-- Steps -->
    <div class="form-step form-step-active">
      <h3>Personal Details <button  class="plus" (click)="toogletag()" (click)="footer()" > + </button></h3>
      <div *ngIf="showMe" >

      <label for="personaldetails">Profile Photo</label>
      <input type="file" (change)="fileChangeEvent($event)" name="personaldetails" id="personaldetails" placeholder="Upload your Photo"
        style="border-color: black;" />
      <label class="text-error"> {{imageError}}</label>

      <label for="personaldetails">Objective</label>
      <textarea name="objective" id="Prodes" rows="4" cols="80"
        placeholder="  Enter Objective" [(ngModel)]="user.objective" style="width: 100%; border-color: black;"></textarea>
      <br>
      <!-- <label for="personaldetails">Name</label>
      <input type="text" name="name" [(ngModel)]="user.name" id="personaldetails" placeholder="Enter your name" [(ngModel)]="user.name"
        style="border-color: black;" /> -->
      <br>
      <label for="personaldetails">Date of Birth</label>
      <input type="date" name="dateofBirth" [(ngModel)]="user.dateOfBirth" id="personaldetails"
        style="border-color: black;" />
      <br>
      <label for="personaldetails">Nationality</label>
      <input type="text" id="personaldetails" name="nationality" [(ngModel)]="user.nationality"
        style="border-color: black;" placeholder="Enter your nationality" />
      <!-- <br>
      <label for="personaldetails">Mail Address</label>
      <input type="text" id="personaldetails" name="mailAddress" [(ngModel)]="user.mailAddress"
        style="border-color: black;" placeholder="Enter your mail address" /> -->

      <br>


      <label for="personaldetails">Date of Joining</label>
      <input type="date" name="dateofJoining" [(ngModel)]="user.dateOfJoining" id="personaldetails"
        style="border-color: black;" />
      <br>

      <table>
        <tr>
          <td>
            <label for="personaldetails">Break Duration</label>
          </td>
          <td>
            <button class="btn" style="background-color:#866ec7; border-radius: 500%;">
              <i class="fa fa-plus fa-xs"></i></button>
          </td>
          <!-- <td>
            <button class="btn" style=" background-color:#866ec7; border-radius: 500%;">
              <i class="fa-solid fa-trash-can"></i></button>
          </td> -->

        </tr>
      </table>

      <td style="width: 55%;">
        <label for="personaldetails">From</label>
        <input type="date" name="starting" [(ngModel)]="user.starting" id="personaldetails"
        style="border-color: black;" />
        <!-- <select name="starting" [(ngModel)]="user.starting" required="" style="border-color: black;" >
        </select> -->
      </td>

      <td style="width: 55%;">
        <label for="personaldetails">To</label>
        <input type="date" name="ending" [(ngModel)]="user.ending" id="personaldetails"
        style="border-color: black;" />
        <!-- <select name="ending" [(ngModel)]="user.ending" required="" style="border-color: black;" >
        </select> -->
      </td>



      <br>

      <table>
        <tr>
          <td>
            <label for="course">Languages Known</label>
          </td>

          <td>
            <button class="btn " style=" background-color:#866ec7; border-radius: 500%; ">
              <i class="fa fa-plus fa-xs"> </i> </button>
          </td>
          <!-- <td>
            <button class="btn " style=" background-color:#866ec7; border-radius: 500%;">
              <i class="fa-solid fa-trash-can"></i></button>
          </td> -->
        </tr>
      </table>

      <tr class="checkBoxChecked">
        <td>
          <div class="Language">
            <input name="languageName" type="text" id="personaldetails" class="extend" [(ngModel)]="user.languageName" required="" placeholder="Enter Language"
              style="border-color: black;" />
          </div>
        </td>
        <td>
          <div class="custom-control custom-checkbox">
            <input name="read" type="checkbox" class="custom-control-input" id="checkbox-1" [(ngModel)]="user.read" required=""/>
            <label class="custom-control-label" for="checkbox-1">Read</label>
          </div>
        </td>
        <td>
          <div class="custom-control custom-checkbox">
            <input name="write" type="checkbox" class="custom-control-input" id="checkbox-2" [(ngModel)]="user.write" required=""/>
            <label class="custom-control-label" for="checkbox-2">Write&nbsp;&nbsp;</label>
          </div>
        </td>
        <td>
          <div class="custom-control custom-checkbox">
            <input name="speak" type="checkbox" class="custom-control-input" id="checkbox-3" [(ngModel)]="user.speak" required=""/>
            <label class="custom-control-label" for="checkbox-3">Speak&nbsp;&nbsp;</label>
          </div>
        </td>
      </tr>

      <br>

      <table>
        <tr>
          <td>
            <label for="personaldetails">Social Media</label>
          </td>
          <td>
            <button class="btn  " style="background-color:#866ec7; border-radius: 500%;">
              <i class="fa fa-plus fa-xs"></i></button>
          </td>

          <!-- <td>
            <button class="btn " style=" background-color:#866ec7; border-radius: 500%;">
              <i class="fa-solid fa-trash-can"></i></button>
          </td> -->
        </tr>
      </table>



        <br>

        <table>
          <tr>
            <td>
              <label for="course">Languages Known</label>

            </td>

            <td>
              <button class="btn " style=" background-color:#866ec7; border-radius: 500%; ">
                <i (click)="addLanguage()" class="fa fa-plus fa-xs"> </i> </button>
            </td>
            <td>
              <button class="btn " style=" background-color:#866ec7; border-radius: 500%;">
                <i class="fa-solid fa-trash-can"></i></button>
            </td>
          </tr>
        </table>
        <input type="text" id="personaldetails" name="languageName" [(ngModel)]="languageDetails.languageName"
          style="border-color: black;" placeholder="Enter your Language"
          [class.is-invalid]="(formSubmitted && personalForm.controls['LanguagesKnown'].invalid )||personalForm.controls['LanguagesKnown'].invalid && personalForm.controls['LanguagesKnown'].touched"
          id="LanguagesKnown" formControlName="LanguagesKnown">
        <div
          *ngIf="(formSubmitted)||personalForm.controls['LanguagesKnown'].invalid && personalForm.controls['LanguagesKnown'].touched">
          <span class="text-danger" *ngIf="personalForm.controls['LanguagesKnown'].errors?.['required']">LanguagesKnown
            is required</span>
          <span class="text-danger" *ngIf="personalForm.controls['LanguagesKnown'].errors?.['minlength']">LanguagesKnown
            is too
            short</span>
          <span class="text-danger" *ngIf="personalForm.controls['LanguagesKnown'].errors?.['maxlength']">LanguagesKnown
            is too
            long</span>
        </div>

        <br>
        <div *ngFor="let item of personalDetails['language']">
          <p>{{item.languageName}}</p>

        </div>
        <div class="mt-3 container shadow  bg-body rounded">
          <div>
            <div class="card-body">
              <div class="row rone ">
                <div class="col-md-10">
                  <p>Language</p>
                </div>

                <div class="col-md-1">
                  <div class="row">
                    <button class="btn"><i class="fa fa-solid fa-trash"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <table>
          <tr>
            <td>
              <label for="personaldetails">Social Media</label>
            </td>
            <td>
              <button class="btn  " style="background-color:#866ec7; border-radius: 500%;">
                <i (click)="addSocialMedia()" class="fa fa-plus fa-xs"></i></button>
            </td>

            <td>
              <button class="btn " style=" background-color:#866ec7; border-radius: 500%;">
                <i class="fa-solid fa-trash-can"></i></button>
            </td>
          </tr>
        </table>



        <label for="personaldetails">Social Media Name</label>
        <input name="socialMedia_Name" type="text" id="personaldetails" placeholder="Enter Social media name"
          [(ngModel)]="socialMedia.socialMedia_Name" required="" style="border-color: black;"
          [class.is-invalid]="(formSubmitted && personalForm.controls['SocialMediaName'].invalid )||personalForm.controls['SocialMediaName'].invalid && personalForm.controls['SocialMediaName'].touched"
          id="SocialMediaName" formControlName="SocialMediaName">
        <div
          *ngIf="(formSubmitted)||personalForm.controls['SocialMediaName'].invalid && personalForm.controls['SocialMediaName'].touched">
          <span class="text-danger"
            *ngIf="personalForm.controls['SocialMediaName'].errors?.['required']">SocialMediaName is required</span>
          <span class="text-danger"
            *ngIf="personalForm.controls['SocialMediaName'].errors?.['minlength']">SocialMediaName is too short</span>
          <span class="text-danger"
            *ngIf="personalForm.controls['SocialMediaName'].errors?.['maxlength']">SocialMediaName is too long</span>
        </div>
        <br>
        <label for="personaldetails">Social Media Link</label>
        <input name="socialMedia_Link" type="text" id="personaldetails" placeholder="Enter Social media link"
          [(ngModel)]="socialMedia.socialMedia_Link" required="" style="border-color: black;"
          [class.is-invalid]="(formSubmitted && personalForm.controls['SocialMediaLink'].invalid )||personalForm.controls['SocialMediaName'].invalid && personalForm.controls['SocialMediaLink'].touched"
          id="SocialMediaLink" formControlName="SocialMediaLink">
        <div
          *ngIf="(formSubmitted)||personalForm.controls['SocialMediaLink'].invalid && personalForm.controls['SocialMediaLink'].touched">
          <span class="text-danger"
            *ngIf="personalForm.controls['SocialMediaLink'].errors?.['required']">SocialMediaLink is required</span>
          <span class="text-danger"
            *ngIf="personalForm.controls['SocialMediaLink'].errors?.['minlength']">SocialMediaLink is too short</span>
          <span class="text-danger"
            *ngIf="personalForm.controls['SocialMediaLink'].errors?.['maxlength']">SocialMediaLink is too long</span>
        </div>
        <div *ngIf="response.length!==0">
          <app-snapbar snackBarMessage={{response}} snackBarAction="Done"></app-snapbar>
      </div>
        <!-- <div class="button">
          <a class="btn btn-next width-50 ml-auto" (click)="personalSubmit()" (click)="toogletag()">Submit</a>
        </div>  -->
      </div>
      <!-- <div class="button">
        <a class="btn btn-next width-50 ml-auto" (click)="personalSubmit()" (click)="toogletag()">Submit</a>
      </div> -->
    </div>


    <div class="row">
      <!--<a [routerLink]="['/createprofile']" class="btn btn-next width-50 ml-auto">Previous</a>-->
      <a [routerLink]="['/viewprofile']" class="btn btn-next width-50 mlr-auto" (click)="personalSubmit()">Save as
        Draft</a>
      <a [routerLink]="['/education']" class="btn  width-50 mlr-auto" (click)="personalSubmit()">Next</a>
      <!-- (click)="personalSubmit()" -->
    </div>
    <br><br>
  </form>
</div>